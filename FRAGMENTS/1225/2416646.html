<link rel="stylesheet" href="../default.css">
<script src="../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.ups = nn.ModuleList([])
        num_resolutions = len(in_out)

        layer_params<a id="change"> = </a><a id="change">[</a>num_resnet_blocks, resnet_groups, layer_attns, layer_attns_depth, layer_cross_attns<a id="change"></a>]
        reversed_layer_params = list(map(reversed, layer_params))

        &#47&#47 downsampling layers</code></pre><h3>After Change</h3><pre><code class='java'>
                transformer_block_klass(dim = dim_out, depth = layer_attn_depth, ff_mult = ff_mult, context_dim = cond_dim, **attn_kwargs),
                temporal_peg(dim_out),
                temporal_attn(dim_out),
                TemporalPixelShuffleUpsample(dim_out, stride = temporal_stride)<a id="change"> if temporal_stride &gt; 1</a><a id="change"> else </a>None,
                upsample_klass(dim_out, dim_in) if not is_last or memory_efficient else Identity()
            ]))
</code></pre>