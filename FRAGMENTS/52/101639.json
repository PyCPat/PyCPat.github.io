{"BEFORE":"    if (not hasattr(node, 'root') or not hasattr(node, 'treeposition') or\n        not hasattr(node, 'parent')):\n        return []\n    pos = node.treeposition()\n    # go \"upwards\" from pos until there is a place we can go to the\n    # right\n    idx = len(pos) - 1\n    current = node.parent()\n    while 0 <= idx and pos[idx] == len(current) - 1:\n        idx -= 1\n        current = current.parent()\n    if idx < 0:\n        return []\n    pos = list(pos[:idx + 1])\n    pos[-1] += 1\n    after = node.root()[pos]\n","AFTER":"    try:\n        pos = node.treeposition()\n        tree = node.root()\n        current = node.parent()\n    except AttributeError:\n        return []\n    # go \"upwards\" from pos until there is a place we can go to the\n    # right\n    idx = len(pos) - 1\n    while 0 <= idx and pos[idx] == len(current) - 1:\n        idx -= 1\n        current = current.parent()\n    if idx < 0:\n        return []\n    pos = list(pos[:idx + 1])\n    pos[-1] += 1\n    after = tree[pos]\n"}