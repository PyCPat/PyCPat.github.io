{"BEFORE":"        total_count = defaultdict(lambda: 0.0)\n\n        for i in range(0, iterations):\n            count_t_given_s = defaultdict(lambda: defaultdict(lambda: 0.0))\n            count_any_t_given_s = defaultdict(lambda: 0.0)\n\n            for aligned_sentence in parallel_corpus:\n                trg_sentence = aligned_sentence.words\n                src_sentence = [None] + aligned_sentence.mots\n\n                # E step (a): Compute normalization factors to weigh counts\n                for t in trg_sentence:\n                    total_count[t] = 0.0\n                    for s in src_sentence:\n                        total_count[t] += translation_table[t][s]\n\n                # E step (b): Collect counts\n                for t in trg_sentence:\n","AFTER":"                total_count = defaultdict(lambda: 0.0)\n\n                # E step (a): Compute normalization factors to weigh counts\n                for t in trg_sentence:\n                    if total_count[t] == 0.0:\n                        for s in src_sentence:\n                            total_count[t] += translation_table[t][s]\n\n                # E step (b): Collect counts\n                for t in trg_sentence:\n"}