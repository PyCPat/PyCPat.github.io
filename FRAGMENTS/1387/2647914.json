{"BEFORE":"        if impl not in self.implementations:\n            raise ValueError(f\"Expected one of {self.implementations} for impl, got {impl}\")\n        has_torch_scatter = self.has_torch_scatter()\n        if impl is None:\n            if not has_torch_scatter:\n                pt_scatter = \"https:\/\/github.com\/rusty1s\/pytorch_scatter\"\n                warn(f\"ContrastiveLoss: using pure pytorch implementation. Install {pt_scatter} for memory efficiency.\")\n            self.impl = \"scatter\" if has_torch_scatter else \"expand\"\n        else:\n            if impl == \"scatter\" and not has_torch_scatter:\n                raise ValueError()\n            self.impl = impl\n\n    def __str__(self):\n","AFTER":"        assert scatter_mean is not None, \"Spoco loss requires pytorch_scatter\"\n"}