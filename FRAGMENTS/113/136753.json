{"BEFORE":"        return self.batch_tag([tokens])[0]\n","AFTER":"        for token in tokens:\n            assert \"\\n\" not in token, \"Tokens should not contain newlines\"\n            if isinstance(token, unicode):\n                token = token.encode(self._encoding)\n            self._hunpos.stdin.write(token + \"\\n\")\n        # We write a final empty line to tell hunpos that the sentence is finished:\n        self._hunpos.stdin.write(\"\\n\")\n        self._hunpos.stdin.flush()\n\n        tagged_tokens = []\n        for token in tokens:\n            tagged = self._hunpos.stdout.readline().strip().split(\"\\t\")\n            if len(tagged) > 1:\n                tag = tagged[1]\n            else:\n                tag = None\n            tagged_tokens.append((token, tag))\n        # We have to read (and dismiss) the final empty line:\n        self._hunpos.stdout.readline()\n\n        return tagged_tokens\n"}