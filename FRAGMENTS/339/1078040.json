{"BEFORE":"        cond_samples = []\n        for condition in self.conditions():\n            cond_samples.extend([(condition, sample)\n                                 for sample in self[condition].samples()])\n        return (self.__class__, (cond_samples,))\n","AFTER":"        kv_pairs = [(cond, self[cond]) for cond in self.conditions()]\n        return (self.__class__, (), None, None, iter(kv_pairs))\n"}