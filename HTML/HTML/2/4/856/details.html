<html><h3>Pattern ID :856
</h3><img src='1936121.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        for _ in range(depth):
            self.layers.append(nn.ModuleList([
                Residual(PreNorm(dim, <a id="change">Attention(dim = dim, heads = heads, dim_head = dim_head, dropout = attn_dropout)</a>)),
                Residual(PreNorm(dim, FeedForward(dim = dim, dropout = ff_dropout)))
            ]))
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.layers = nn.ModuleList([])
        shared_kv_proj = None

        for <a id="change">_</a> in range(depth):
            attn<a id="change"> = </a><a id="change">Attention(dim = dim, heads = heads, dim_head = dim_head, dropout = attn_dropout)</a>
            ff = FeedForward(dim = dim, dropout = ff_dropout)

            shared_kv_proj = default(shared_kv_proj, attn.to_kv)
            attn.to_kv = shared_kv_proj</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lucidrains/feedback-transformer-pytorch/commit/8044063db1a5fc092c9ce68998dc1e301d9f7818#diff-6b348c286a3e8b8e064ec9c64a1f61ec6d6b66e7f14bae4c1b91af070d30c72eL192' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1936121</div><div id='project'> Project Name: lucidrains/feedback-transformer-pytorch</div><div id='commit'> Commit Name: 8044063db1a5fc092c9ce68998dc1e301d9f7818</div><div id='time'> Time: 2021-02-02</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: feedback_transformer_pytorch/feedback_transformer_pytorch.py</div><div id='class'> Class Name: FeedbackTransformer</div><div id='method'> Method Name: __init__</div><div id='parent_class'> Parent Class: nn.Module</div><BR><BR><div id='link'><a href='https://github.com/lucidrains/memorizing-transformers-pytorch/commit/2efd604bcf4adb00d205f88f5c5fedce34ececb8#diff-698d7ac098881cd330cfb9868699bcdf92d002f508c0204f7e40400664b526d1L242' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1936116</div><div id='project'> Project Name: lucidrains/memorizing-transformers-pytorch</div><div id='commit'> Commit Name: 2efd604bcf4adb00d205f88f5c5fedce34ececb8</div><div id='time'> Time: 2022-03-24</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: memorizing_transformers_pytorch/memorizing_transformers_pytorch.py</div><div id='class'> Class Name: MemorizingTransformer</div><div id='method'> Method Name: __init__</div><div id='parent_class'> Parent Class: nn.Module</div><BR><BR><div id='link'><a href='https://github.com/archinetai/audio-diffusion-pytorch/commit/67e9fd7b2dbb371fc606ed48550825a03fd0e507#diff-da1345932fc05af66ecce445bdc039bfd662c73dfe7326e045c689fbb3092d67L930' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1936119</div><div id='project'> Project Name: archinetai/audio-diffusion-pytorch</div><div id='commit'> Commit Name: 67e9fd7b2dbb371fc606ed48550825a03fd0e507</div><div id='time'> Time: 2022-07-21</div><div id='author'> Author: flavio.schneider.97@gmail.com</div><div id='file'> File Name: audio_diffusion_pytorch/models.py</div><div id='class'> Class Name: BottleneckBlock1d</div><div id='method'> Method Name: __init__</div><div id='parent_class'> Parent Class: nn.Module</div><BR>