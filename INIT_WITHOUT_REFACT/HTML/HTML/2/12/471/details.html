<html><h3>Pattern ID :471
</h3><img src='1704731.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def forward(self, x):
        x = self.conv1(x)
        x<a id="change"> = </a>self.mv2[0](x)

        x = self.mv2[1](x)
        x<a id="change"> = </a>self.mv2[2](x)
        x<a id="change"> = </a>self.mv2[3](x)

        x = self.mv2[4](x)
        x = self.mvit[0](x)

        x<a id="change"> = </a>self.mv2[5](x)
        x<a id="change"> = </a>self.mvit[1](x)

        x<a id="change"> = </a>self.mv2[6](x)
        x<a id="change"> = </a>self.mvit[2](x)
        x<a id="change"> = </a>self.conv2(x)

        x<a id="change"> = </a>self.pool(x).view(-1, x.shape[1])
        x<a id="change"> = </a>self.fc(x)
        <a id="change">return </a>x

</code></pre><h3>After Change</h3><pre><code class='java'>
            x = conv(x)
            x = attn(x)

        <a id="change">return </a>self.to_logits(x)
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 12</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lucidrains/vit-pytorch/commit/b983bbee390bf2a9b677de5ba1e91b3327f8cfc8#diff-180c1535c305da16bf6b05e1db96f9ac1e4ee6fb798bd3da9f10e336cf10ddbaL209' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1704731</div><div id='project'> Project Name: lucidrains/vit-pytorch</div><div id='commit'> Commit Name: b983bbee390bf2a9b677de5ba1e91b3327f8cfc8</div><div id='time'> Time: 2021-12-21</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: vit_pytorch/mobile_vit.py</div><div id='m_class'> M Class Name: MobileViT</div><div id='n_method'> N Class Name: MobileViT</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: vit_pytorch/mobile_vit.py</div><div id='n_file'> N File Name: vit_pytorch/mobile_vit.py</div><div id='m_start'> M Start Line: 209</div><div id='m_end'> M End Line: 228</div><div id='n_start'> N Start Line: 230</div><div id='n_end'> N End Line: 239</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            Rearrange(&quotb x y w1 w2 d -&gt; b d (w1 x) (w2 y)&quot),
        )
    def forward(self,x):
        <a id="change">return </a>self.block(x)


def INF(B, H, W):</code></pre><h3>After Change</h3><pre><code class='java'>
        self.l9 = Rearrange(&quotb x y w1 w2 d -&gt; b d (w1 x) (w2 y)&quot)
        &#47&#47 )
    def forward(self,x):
        x<a id="change"> = </a>self.l0(x)
        x<a id="change"> = </a>self.l1(x)
        x<a id="change"> = </a>self.l2(x)
        x<a id="change"> = </a>self.l3(x)
        x<a id="change"> = </a>self.l4(x)
        x<a id="change"> = </a>self.l5(x)
        x<a id="change"> = </a>self.l6(x)
        x<a id="change"> = </a>self.l7(x)
        x<a id="change"> = </a>self.l8(x)
        x<a id="change"> = </a>self.l9(x)
        <a id="change">return </a>x


def INF(B, H, W):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tvs-ai/pytorch_rppgs/commit/11bf731ca08a7284c22299029bbc7598a771f029#diff-aa5d599be1154784f23415aec0888f7b1d35707a961a79f76da4224b3068f105L347' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1704762</div><div id='project'> Project Name: tvs-ai/pytorch_rppgs</div><div id='commit'> Commit Name: 11bf731ca08a7284c22299029bbc7598a771f029</div><div id='time'> Time: 2023-02-20</div><div id='author'> Author: spicyyeol@gmail.com</div><div id='file'> File Name: nets/modules/vit_pytorch/max_vit.py</div><div id='m_class'> M Class Name: MaxViT_Block</div><div id='n_method'> N Class Name: MaxViT_Block</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: nets/modules/vit_pytorch/max_vit.py</div><div id='n_file'> N File Name: nets/modules/vit_pytorch/max_vit.py</div><div id='m_start'> M Start Line: 348</div><div id='m_end'> M End Line: 348</div><div id='n_start'> N Start Line: 364</div><div id='n_end'> N End Line: 374</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        h2 = F.relu(self.fc2(h1))
        h3 = F.relu(self.fc3(h2))
        h4 = torch.sigmoid(self.fc4(h3))
        <a id="change">return </a>h4


def normal_init(m, mean, std):</code></pre><h3>After Change</h3><pre><code class='java'>

	def forward(self, x):
		x = self.fc1(x)
		x<a id="change"> = </a>F.relu(x)
		x<a id="change"> = </a>self.dropout1(x)
		x = self.fc2(x)
		x = F.relu(x)
		x<a id="change"> = </a>self.dropout1(x)
		x<a id="change"> = </a>self.fc3(x)
		x<a id="change"> = </a>F.relu(x)
		x<a id="change"> = </a>self.dropout1(x)
		x = self.fc4(x)
		x<a id="change"> = </a>F.relu(x)
		x<a id="change"> = </a>self.dropout1(x)
		x<a id="change"> = </a>self.fc5(x)
		x<a id="change"> = </a>torch.sigmoid(x)
		<a id="change">return </a>x


def normal_init(m, mean, std):</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/erfaniaa/commit-type-detection/commit/f120a95d968c8ee3e60be8f1f6073263f0c1780d#diff-3a27d94513db8596b3b23bf9555ad928106ce920eb311da21a6244187c0c6927L15' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1704766</div><div id='project'> Project Name: erfaniaa/commit-type-detection</div><div id='commit'> Commit Name: f120a95d968c8ee3e60be8f1f6073263f0c1780d</div><div id='time'> Time: 2020-02-11</div><div id='author'> Author: erfan.aa@gmail.com</div><div id='file'> File Name: network.py</div><div id='m_class'> M Class Name: Network</div><div id='n_method'> N Class Name: Network</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: network.py</div><div id='n_file'> N File Name: network.py</div><div id='m_start'> M Start Line: 16</div><div id='m_end'> M End Line: 20</div><div id='n_start'> N Start Line: 24</div><div id='n_end'> N End Line: 38</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

    def forward(self, x: Tensor) -&gt; Tensor:
        &#47&#47 pylint: disable=missing-function-docstring
        <a id="change">return </a>self._forward_impl(x)


def resnet50(**kwargs: Any) -&gt; ResNet:</code></pre><h3>After Change</h3><pre><code class='java'>
        Returns:
            Tensor: Output
        
        x_in<a id="change"> = </a>self.conv1(x_in)
        x_in<a id="change"> = </a>self.bn1(x_in)
        x_in<a id="change"> = </a>self.relu(x_in)
        x_in<a id="change"> = </a>self.maxpool(x_in)

        x_in<a id="change"> = </a>self.layer1(x_in)
        x_in<a id="change"> = </a>self.layer2(x_in)
        x_in<a id="change"> = </a>self.layer3(x_in)
        x_in<a id="change"> = </a>self.layer4(x_in)

        x_in<a id="change"> = </a>self.avgpool(x_in)
        x_in<a id="change"> = </a>torch.flatten(x_in, 1)
        <a id="change">return </a>self.fully_connected(x_in)


def resnet50(**kwargs: Any) -&gt; ResNet:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/aisingapore/peekingduck/commit/9bc45686b41e3f581446c4008f3d10c59caa4018#diff-51fcbafa35f3a269fa7cedec81872223f90d798e9c10226563c014f149fb0723L371' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1704658</div><div id='project'> Project Name: aisingapore/peekingduck</div><div id='commit'> Commit Name: 9bc45686b41e3f581446c4008f3d10c59caa4018</div><div id='time'> Time: 2022-07-03</div><div id='author'> Author: ngaitung.kwok@u.nus.edu</div><div id='file'> File Name: peekingduck/pipeline/nodes/model/mask_rcnnv1/mask_rcnn_files/resnet.py</div><div id='m_class'> M Class Name: ResNet</div><div id='n_method'> N Class Name: ResNet</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(2)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: peekingduck/pipeline/nodes/model/mask_rcnnv1/mask_rcnn_files/resnet.py</div><div id='n_file'> N File Name: peekingduck/pipeline/nodes/model/mask_rcnnv1/mask_rcnn_files/resnet.py</div><div id='m_start'> M Start Line: 373</div><div id='m_end'> M End Line: 373</div><div id='n_start'> N Start Line: 376</div><div id='n_end'> N End Line: 388</div><BR>