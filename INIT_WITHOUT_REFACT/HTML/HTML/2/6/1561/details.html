<html><h3>Pattern ID :1561
</h3><img src='4217734.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        prior_prob = 0.01
        bias_value = -math.log((1 - prior_prob) / prior_prob)
        for modules in self.conf:
            <a id="change">for </a><a id="change">l</a> in <a id="change">modules.modules():
                </a><a id="change">if isinstance(l</a>, nn.Conv2d<a id="change">)</a><a id="change">:
                    </a>torch.nn.init.normal_(l.weight, std=0.01)
                    torch.nn.init.constant_(l.bias, bias_value)

    def forward(self, x):</code></pre><h3>After Change</h3><pre><code class='java'>
            self.backbone = ResNetBackbone(depth=18, pretrained=True)
            channels = (256, 512)
            self.fea_channel = 256
        elif <a id="change"></a>backbone == &quotresnet34&quot<a id="change">:
            </a>from models.backbone.resnet_backbone import ResNetBackbone
            self.backbone = ResNetBackbone(depth=34, pretrained=True)
            channels = (256, 512)
            self.fea_channel = 256</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/zhangheng19931123/mutualguide/commit/a1922567db242ed73012d090b249066d1159a902#diff-173712d78c4a4bd55ef9e83dfc90dcc8b50acd30105eeeb8efc089e7b558a265L33' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 4217734</div><div id='project'> Project Name: zhangheng19931123/mutualguide</div><div id='commit'> Commit Name: a1922567db242ed73012d090b249066d1159a902</div><div id='time'> Time: 2021-06-01</div><div id='author'> Author: heng.zhang@irisa.fr</div><div id='file'> File Name: models/detector.py</div><div id='m_class'> M Class Name: Detector</div><div id='n_method'> N Class Name: Detector</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/detector.py</div><div id='n_file'> N File Name: models/detector.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 103</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        prior_prob = 0.01
        bias_value = -math.log((1 - prior_prob) / prior_prob)
        for modules in self.conf:
            <a id="change">for </a><a id="change">l</a> in <a id="change">modules.modules():
                </a><a id="change">if isinstance(</a>l, nn.Conv2d<a id="change">)</a><a id="change">:
                    </a>torch.nn.init.normal_(l.weight, std=0.01)
                    torch.nn.init.constant_(l.bias, bias_value)

    def forward(self, x):</code></pre><h3>After Change</h3><pre><code class='java'>
        self.num_anchors = 6

        &#47&#47 Backbone network
        <a id="change">if </a>backbone == &quotresnet18&quot<a id="change">:
            </a>from models.backbone.resnet_backbone import ResNetBackbone
            self.backbone = ResNetBackbone(depth=18, pretrained=True)
            channels = (256, 512)
            self.fea_channel = 256</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/zhanghengdev/mutualguide/commit/a1922567db242ed73012d090b249066d1159a902#diff-173712d78c4a4bd55ef9e83dfc90dcc8b50acd30105eeeb8efc089e7b558a265L21' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 4217735</div><div id='project'> Project Name: zhanghengdev/mutualguide</div><div id='commit'> Commit Name: a1922567db242ed73012d090b249066d1159a902</div><div id='time'> Time: 2021-06-01</div><div id='author'> Author: heng.zhang@irisa.fr</div><div id='file'> File Name: models/detector.py</div><div id='m_class'> M Class Name: Detector</div><div id='n_method'> N Class Name: Detector</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/detector.py</div><div id='n_file'> N File Name: models/detector.py</div><div id='m_start'> M Start Line: 33</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 44</div><div id='n_end'> N End Line: 103</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.avgpool = nn.AdaptiveAvgPool3d((1, 1, 1))
        self.fc = nn.Linear(block_inplanes[3] * block.expansion, n_classes)

        <a id="change">for </a><a id="change">m</a> in <a id="change">self.modules():
            </a><a id="change">if isinstance(</a>m, nn.Conv3d<a id="change">)</a><a id="change">:
                </a>nn.init.kaiming_normal_(m.weight, mode=&quotfan_out&quot, nonlinearity=&quotrelu&quot)
            elif isinstance(m, nn.BatchNorm3d):
                nn.init.constant_(m.weight, 1)
                nn.init.constant_(m.bias, 0)</code></pre><h3>After Change</h3><pre><code class='java'>
        self.avgpool = nn.AdaptiveAvgPool3d((1, 1, 1))
        self.fc = nn.Linear(block_inplanes[3] * block.expansion, n_classes)

        <a id="change">if </a>init_weights<a id="change">:
            </a>initialize_weights(self)
        &#47&#47 for m in self.modules():
        &#47&#47     if isinstance(m, nn.Conv3d):
        &#47&#47         nn.init.kaiming_normal_(m.weight, mode=&quotfan_out&quot, nonlinearity=&quotrelu&quot)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/liaorongfan/deeppersonality/commit/5390c782cd40874b4d81897a78abc8f6eb7f573a#diff-a768dbe01c2b0e2d4f7008cffd4aeb6888e0e2ee566be08e5937e364c7df5b13L110' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 4217736</div><div id='project'> Project Name: liaorongfan/deeppersonality</div><div id='commit'> Commit Name: 5390c782cd40874b4d81897a78abc8f6eb7f573a</div><div id='time'> Time: 2021-12-14</div><div id='author'> Author: 15670381505@163.com</div><div id='file'> File Name: dpcv/modeling/networks/resnet_3d.py</div><div id='m_class'> M Class Name: ResNet</div><div id='n_method'> N Class Name: ResNet</div><div id='m_method'> M Method Name: __init__(12)</div><div id='n_method'> N Method Name: __init__(11)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: dpcv/modeling/networks/resnet_3d.py</div><div id='n_file'> N File Name: dpcv/modeling/networks/resnet_3d.py</div><div id='m_start'> M Start Line: 149</div><div id='m_end'> M End Line: 156</div><div id='n_start'> N Start Line: 124</div><div id='n_end'> N End Line: 161</div><BR>