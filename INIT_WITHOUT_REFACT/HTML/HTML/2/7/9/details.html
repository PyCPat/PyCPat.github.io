<html><h3>Pattern ID :9
</h3><img src='26336.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.avgpool = nn.AvgPool2d(7)
        self.fc = nn.Linear(scale * 8 * block.expansion, num_classes)

        <a id="change">for </a>m in self.modules()<a id="change">:
            </a>if isinstance(m, nn.Conv2d):
                n<a id="change"> = </a>m<a id="change">.kernel_size[0] * m.kernel_size[1] * </a>m.out_channels
                m.weight.data.normal_(0, math.sqrt(2. / n))
            elif isinstance(m, nn.BatchNorm2d):
                m.weight.data.fill_(1)</code></pre><h3>After Change</h3><pre><code class='java'>
        self.inplanes = scale
        self.for_test = for_test
        super(ResNet, self).__init__()
        self.use_non_local = <a id="change">kwargs.get(&quotuse_non_local&quot</a>, False<a id="change">)</a>

        self.conv1 = nn.Conv2d(3, scale, kernel_size=7, stride=2, padding=3,
                               bias=False)
        self.bn1 = nn.BatchNorm2d(scale)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tencentyouturesearch/personreid-cacenet/commit/4d9262404af939b4964e96ef3ee86a988de77910#diff-bdd2d0a909c806b879fc1c51f7c6921fa3974a6f8c9a627b38d2d7f99c5bc8f0L138' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 26336</div><div id='project'> Project Name: tencentyouturesearch/personreid-cacenet</div><div id='commit'> Commit Name: 4d9262404af939b4964e96ef3ee86a988de77910</div><div id='time'> Time: 2020-12-11</div><div id='author'> Author: fufuyu@tencent.com</div><div id='file'> File Name: models/backbones/resnet_ibn_a.py</div><div id='m_class'> M Class Name: ResNet</div><div id='n_method'> N Class Name: ResNet</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/backbones/resnet_ibn_a.py</div><div id='n_file'> N File Name: models/backbones/resnet_ibn_a.py</div><div id='m_start'> M Start Line: 141</div><div id='m_end'> M End Line: 152</div><div id='n_start'> N Start Line: 138</div><div id='n_end'> N End Line: 138</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.avgpool = nn.AvgPool2d(7)
        self.fc = nn.Linear(scale * 8 * block.expansion, num_classes)

        <a id="change">for m</a> in self.modules()<a id="change">:
            </a>if isinstance(m, nn.Conv2d):
                n<a id="change"> = </a>m<a id="change">.kernel_size[0] * m.kernel_size[1] * </a>m.out_channels
                m.weight.data.normal_(0, math.sqrt(2. / n))
            elif isinstance(m, nn.BatchNorm2d):
                m.weight.data.fill_(1)</code></pre><h3>After Change</h3><pre><code class='java'>
        self.inplanes = scale
        self.for_test = for_test
        super(ResNet, self).__init__()
        self.use_non_local = <a id="change">kwargs.get(&quotuse_non_local&quot</a>, False<a id="change">)</a>

        self.conv1 = nn.Conv2d(3, scale, kernel_size=7, stride=2, padding=3,
                               bias=False)
        self.bn1 = nn.BatchNorm2d(scale)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/tencentyouturesearch/personreid-youreid/commit/4d9262404af939b4964e96ef3ee86a988de77910#diff-bdd2d0a909c806b879fc1c51f7c6921fa3974a6f8c9a627b38d2d7f99c5bc8f0L124' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 26329</div><div id='project'> Project Name: tencentyouturesearch/personreid-youreid</div><div id='commit'> Commit Name: 4d9262404af939b4964e96ef3ee86a988de77910</div><div id='time'> Time: 2020-12-11</div><div id='author'> Author: fufuyu@tencent.com</div><div id='file'> File Name: models/backbones/resnet_ibn_a.py</div><div id='m_class'> M Class Name: ResNet</div><div id='n_method'> N Class Name: ResNet</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/backbones/resnet_ibn_a.py</div><div id='n_file'> N File Name: models/backbones/resnet_ibn_a.py</div><div id='m_start'> M Start Line: 141</div><div id='m_end'> M End Line: 152</div><div id='n_start'> N Start Line: 138</div><div id='n_end'> N End Line: 138</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        if &quotraw_points&quot in self.model_cfg.FEATURES_SOURCE:
            mlps = SA_cfg[&quotraw_points&quot].MLPS
            <a id="change">for k</a> in range(len(mlps))<a id="change">:
                </a>mlps[k]<a id="change"> = </a>[num_rawpoint_features<a id="change"> - </a>3]<a id="change"> + </a>mlps[k]

            self.SA_rawpoints = pointnet2_stack_modules.StackSAModuleMSG(
                radii=SA_cfg[&quotraw_points&quot].POOL_RADIUS,</code></pre><h3>After Change</h3><pre><code class='java'>
                continue
            self.downsample_times_map[src_name] = SA_cfg[src_name].DOWNSAMPLE_FACTOR

            if <a id="change">SA_cfg[src_name].get(&quotINPUT_CHANNELS&quot</a>, None<a id="change">)</a> is None:
                input_channels = SA_cfg[src_name].MLPS[0][0] \
                    if isinstance(SA_cfg[src_name].MLPS[0], list) else SA_cfg[src_name].MLPS[0]
            else:</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/open-mmlab/openpcdet/commit/13789796f70a033435a8289b3e1361000fc4694c#diff-3b1178f3f77283f0e9701868a1ed07231c51b22ea058d1c7d2e1f01ddf7cdeb4L125' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 26332</div><div id='project'> Project Name: open-mmlab/openpcdet</div><div id='commit'> Commit Name: 13789796f70a033435a8289b3e1361000fc4694c</div><div id='time'> Time: 2021-12-26</div><div id='author'> Author: shaoshuaics@gmail.com</div><div id='file'> File Name: pcdet/models/backbones_3d/pfe/voxel_set_abstraction.py</div><div id='m_class'> M Class Name: VoxelSetAbstraction</div><div id='n_method'> N Class Name: VoxelSetAbstraction</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: pcdet/models/backbones_3d/pfe/voxel_set_abstraction.py</div><div id='n_file'> N File Name: pcdet/models/backbones_3d/pfe/voxel_set_abstraction.py</div><div id='m_start'> M Start Line: 132</div><div id='m_end'> M End Line: 173</div><div id='n_start'> N Start Line: 132</div><div id='n_end'> N End Line: 166</div><BR>