{"BEFORE":"                y = x[i].sigmoid()\n                box_xy = (y[..., 0:2] * 2.0 - 0.5 + self.grid[i]) * self.stride[i]\n                box_wh = (y[..., 2:4] * 2) ** 2 * self.anchor_grid[i]  # type: ignore\n                box_xyxy = self._xywh2xyxy(box_xy, box_wh).view(batch_size, -1, 4)\n                score = y[..., 4:].float().view(batch_size, -1, self.n_classes + 1)\n                preds.append(torch.cat([box_xyxy, score], -1))\n","AFTER":"                y = x[i].sigmoid()\n                box_xy = (y[..., 0:2] * 2.0 - 0.5 + self.grid[i]) * self.stride[i]\n                box_wh = (y[..., 2:4] * 2) ** 2 * self.anchor_grid[i]  # type: ignore\n\n                if self.out_xyxy:\n                    box_xyxy = self._xywh2xyxy(box_xy, box_wh).view(batch_size, -1, 4)\n                    y = torch.cat(\n                        (box_xyxy, y[..., 4:].view(batch_size, -1, self.n_outputs - 4)),\n                        -1,\n                    )\n                else:\n                    y = torch.cat((box_xy, box_wh, y[..., 4:]), -1).view(\n                        batch_size, -1, self.n_outputs\n                    )\n\n                preds.append(y)\n"}