{"BEFORE":"        return x\n","AFTER":"        z = self.embed(x)\n\n        for freq_attn, mhes_attn, attn_post_ln, ff_block, level in self.encoder_layers:\n            latent_seasonal = freq_attn(z)\n            z = z - latent_seasonal\n\n            latent_growth = mhes_attn(z)\n            z = z -latent_growth\n\n            z = attn_post_ln(z)\n\n            if exists(ff_block):\n                z = ff_block(z)\n\n            x = level(x, latent_seasonal, latent_growth)\n\n        level = self.level_stack(x, num_steps_forecast = num_steps_forecast)\n        return level\n"}