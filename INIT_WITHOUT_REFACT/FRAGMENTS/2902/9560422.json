{"BEFORE":"        f = self.features(x)\n\n        if not self.training:\n            v = F.adaptive_avg_pool2d(f, 1)\n            v = v.view(v.size(0), -1)\n            return v\n\n        y = self.classifier(f)\n        y = y.view(y.size(0), self.num_classes)\n\n        if self.loss == {'xent'}:\n            return y\n        elif self.loss == {'xent', 'htri'}:\n            v = F.adaptive_avg_pool2d(f, 1)\n            v = v.view(v.size(0), -1)\n","AFTER":"        v = self.global_avgpool(f)\n        v = v.view(v.size(0), -1)\n\n        if self.fc is not None:\n            v = self.fc(v)\n\n        if not self.training:\n            return v\n\n        y = self.classifier(v)\n"}