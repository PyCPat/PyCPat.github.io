{"BEFORE":"        x_avg = torch.mean(x, dim=1, keepdim=True)\n        x_max = torch.max(x, dim=1, keepdim=True)[0]\n        x_attn = 0.5 * x_avg + 0.5 * x_max\n        x_attn = self.conv(x_attn)\n        return x * x_attn.sigmoid()\n","AFTER":"        x_attn = 0.5 * x.mean(dim=1, keepdim=True) + 0.5 * x.amax(dim=1, keepdim=True)\n        x_attn = self.conv(x_attn)\n        return x * self.gate(x_attn)\n"}