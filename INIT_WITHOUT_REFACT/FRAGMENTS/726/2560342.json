{"BEFORE":"        self.pos_emb = nn.Embedding(max_seq_len, dim)\n","AFTER":"        self.abs_pos_emb = nn.Embedding(max_seq_len, dim) if absolute_pos_emb else None\n\n        layer_pos_emb = None\n        if not absolute_pos_emb:\n            assert (dim_head % 4) == 0, 'dimension of the head must be divisible by 4 to use rotary embeddings'\n            layer_pos_emb = RotaryEmbedding(dim_head \/\/ 2)\n\n        # layers\n\n        self.layers = nn.ModuleList([])\n"}