{"BEFORE":"        t = self.time_mlp(time) if exists(self.time_mlp) else None\n\n        feats = []\n        for layer in self.downs:\n            if isinstance(layer, ResnetBlocWithAttn):\n                x = layer(x, t)\n            else:\n                x = layer(x)\n            feats.append(x)\n\n        for layer in self.mid:\n            if isinstance(layer, ResnetBlocWithAttn):\n                x = layer(x, t)\n            else:\n                x = layer(x)\n\n        for layer in self.ups:\n            if isinstance(layer, ResnetBlocWithAttn):\n                x = layer(torch.cat((x, feats.pop()), dim=1), t)\n            else:\n                x = layer(x)\n\n        return self.final_conv(x)\n","AFTER":"        noise_embed = self.noise_mlp(noise_level)\n        feats = []\n        x = self.start_conv(x)\n        for layer in self.downs:\n            x = layer(x, noise_embed)\n            feats.append(x)\n\n        idx = 0\n        for layer in self.ups:\n            info = feats.pop()\n            if idx >= self.skip_start:\n                x = layer(x+info, noise_embed)\n            else:\n                x = layer(x, noise_embed)\n            idx += 1\n"}