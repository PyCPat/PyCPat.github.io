{"BEFORE":"        return (x + self.encoding(noise_level)[:, :, None])\n","AFTER":"        if x.shape[2] > self.pe.shape[1]:\n            self.init_pe_matrix(x.shape[1] ,x.shape[2], x)\n        return x + noise_level[..., None, None] + self.pe[:, :x.size(2)].repeat(x.shape[0], 1, 1) \/ self.C\n"}