<html><h3>Pattern ID :1745
</h3><img src='4436035.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.fc5 = nn.Linear(512 * 7 * 7, 512)
        self.bn5 = nn.BatchNorm1d(512)

        <a id="change">for </a><a id="change">m</a> in <a id="change">self.modules():
            </a><a id="change">if isinstance(m</a>, nn.Conv2d<a id="change">)</a><a id="change">:
                </a>nn.init.xavier_normal_(m.weight)
            elif <a id="change"></a>isinstance(m, nn.BatchNorm2d) or <a id="change">isinstance(m</a>, nn.BatchNorm1d<a id="change">)</a><a id="change">:
                nn.init.constant_(</a>m.weight, <a id="change">1</a><a id="change">)</a>
                <a id="change">nn.init.constant_(</a>m.bias, <a id="change">0</a><a id="change">)</a>
            elif isinstance(m, nn.Linear):
                nn.init.xavier_normal_(m.weight)
                <a id="change">nn.init.constant_(</a>m.bias, <a id="change">0</a><a id="change">)</a>

    def _make_layer(self, block, planes, blocks, stride=1):
        downsample = None
        if stride != 1 or self.inplanes != planes * block.expansion:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.layer2 = self._make_layer(block, 128, layers[1], stride=2)
        self.layer3 = self._make_layer(block, 256, layers[2], stride=2)
        self.layer4 = self._make_layer(block, 512, layers[3], stride=2)
        self.pool = nn.AdaptiveMaxPool2d((<a id="change">1</a><a id="change">, 1</a>))
        self.bn4 = nn.BatchNorm2d(512)
        self.dropout = nn.Dropout()
        self.flatten = nn.Flatten()</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/yeyupiaoling/voiceprintrecognition-pytorch/commit/1b3e522b8bc2c0002ef6447094f8f57c6e4bdabe#diff-7ca0c7fbfa62ecc36250c45cdc6bbc3101135f1a40e8f6132f820010a661bf44L73' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 4436035</div><div id='project'> Project Name: yeyupiaoling/voiceprintrecognition-pytorch</div><div id='commit'> Commit Name: 1b3e522b8bc2c0002ef6447094f8f57c6e4bdabe</div><div id='time'> Time: 2021-07-03</div><div id='author'> Author: yeyupiaoling@foxmail.com</div><div id='file'> File Name: utils/resnet.py</div><div id='m_class'> M Class Name: ResNetFace</div><div id='n_method'> N Class Name: ResNet</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: utils/resnet.py</div><div id='n_file'> N File Name: utils/resnet.py</div><div id='m_start'> M Start Line: 80</div><div id='m_end'> M End Line: 93</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.fc5 = nn.Linear(512 * 7 * 7, 512)
        self.bn5 = nn.BatchNorm1d(512)

        <a id="change">for </a><a id="change">m</a> in <a id="change">self.modules():
            </a><a id="change">if isinstance(</a>m, nn.Conv2d<a id="change">)</a><a id="change">:
                </a>nn.init.xavier_normal_(m.weight)
            elif <a id="change">isinstance(</a>m, nn.BatchNorm2d<a id="change">)</a> or isinstance(m, nn.BatchNorm1d)<a id="change">:
                nn.init.constant_(</a>m.weight, <a id="change">1</a><a id="change">)</a>
                <a id="change">nn.init.constant_(</a>m.bias, <a id="change">0</a><a id="change">)</a>
            elif isinstance(m, nn.Linear):
                nn.init.xavier_normal_(m.weight)
                <a id="change">nn.init.constant_(</a>m.bias, <a id="change">0</a><a id="change">)</a>

    def _make_layer(self, block, planes, blocks, stride=1):
        downsample = None
        if stride != 1 or self.inplanes != planes * block.expansion:</code></pre><h3>After Change</h3><pre><code class='java'>
        self.layer2 = self._make_layer(block, 128, layers[1], stride=2)
        self.layer3 = self._make_layer(block, 256, layers[2], stride=2)
        self.layer4 = self._make_layer(block, 512, layers[3], stride=2)
        self.pool = nn.AdaptiveMaxPool2d((<a id="change">1</a><a id="change">, 1</a>))
        self.bn4 = nn.BatchNorm2d(512)
        self.dropout = nn.Dropout()
        self.flatten = nn.Flatten()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yeyupiaoling/voiceprintrecognition-pytorch/commit/1b3e522b8bc2c0002ef6447094f8f57c6e4bdabe#diff-7ca0c7fbfa62ecc36250c45cdc6bbc3101135f1a40e8f6132f820010a661bf44L66' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 4436033</div><div id='project'> Project Name: yeyupiaoling/voiceprintrecognition-pytorch</div><div id='commit'> Commit Name: 1b3e522b8bc2c0002ef6447094f8f57c6e4bdabe</div><div id='time'> Time: 2021-07-03</div><div id='author'> Author: yeyupiaoling@foxmail.com</div><div id='file'> File Name: utils/resnet.py</div><div id='m_class'> M Class Name: ResNetFace</div><div id='n_method'> N Class Name: ResNet</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: utils/resnet.py</div><div id='n_file'> N File Name: utils/resnet.py</div><div id='m_start'> M Start Line: 80</div><div id='m_end'> M End Line: 93</div><div id='n_start'> N Start Line: 73</div><div id='n_end'> N End Line: 77</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            nn.Linear(1024, 1)
        )

        <a id="change">for </a><a id="change">m</a> in <a id="change">self.modules():
            </a><a id="change">if isinstance(</a>m, nn.Conv2d<a id="change">)</a><a id="change">:
                </a>nn.init.kaiming_normal_(m.weight, mode="fan_out", nonlinearity="leaky_relu")
                if m.bias is not None:
                    nn.init.constant_(m.bias, 0)
            elif <a id="change">isinstance(</a>m, nn.BatchNorm2d<a id="change">)</a><a id="change">:
                nn.init.constant_(</a>m.weight, <a id="change">1</a><a id="change">)</a>
                <a id="change">nn.init.constant_(</a>m.bias, <a id="change">0</a><a id="change">)</a>
            elif isinstance(m, nn.Linear):
                nn.init.normal_(m.weight, 0, 0.01)
                <a id="change">nn.init.constant_(</a>m.bias, <a id="change">0</a><a id="change">)</a>

    def forward(self, input: Tensor) -&gt; Tensor:
        out = self.features(input)
        out = self.avgpool(out)</code></pre><h3>After Change</h3><pre><code class='java'>
            nn.LeakyReLU(negative_slope=0.2, inplace=True)
        )

        self.avgpool = nn.AdaptiveAvgPool2d((14<a id="change">, 14</a>))

        self.fc = nn.Sequential(
            nn.Linear(512 * 14 * 14, 1024),</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/esrgan-pytorch/commit/91405c6093508419a44d6313646c88ec681a90d2#diff-922d5955c025c76c1ff83c159f3370bb61503752c2b24aa0d2bb20c38bd37596L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 4435999</div><div id='project'> Project Name: lornatang/esrgan-pytorch</div><div id='commit'> Commit Name: 91405c6093508419a44d6313646c88ec681a90d2</div><div id='time'> Time: 2020-10-21</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: esrgan_pytorch/model.py</div><div id='m_class'> M Class Name: Discriminator</div><div id='n_method'> N Class Name: Discriminator</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: esrgan_pytorch/model.py</div><div id='n_file'> N File Name: esrgan_pytorch/model.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 83</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 69</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            nn.Linear(1024, 1)
        )

        <a id="change">for </a><a id="change">m</a> in <a id="change">self.modules():
            </a><a id="change">if isinstance(</a>m, nn.Conv2d<a id="change">)</a><a id="change">:
                </a>nn.init.kaiming_normal_(m.weight, mode="fan_out", nonlinearity="leaky_relu")
                m.weight.data *= 0.1
                if m.bias is not None:
                    nn.init.constant_(m.bias, 0)
            elif <a id="change">isinstance(</a>m, nn.Linear<a id="change">)</a><a id="change">:
                </a>nn.init.kaiming_normal_(m.weight)
                m.weight.data *= 0.1
                <a id="change">nn.init.constant_(</a>m.bias, <a id="change">0</a><a id="change">)</a>
            elif isinstance(m, nn.BatchNorm2d):
                <a id="change">nn.init.constant_(</a>m.weight, <a id="change">1</a><a id="change">)</a>
                <a id="change">nn.init.constant_(</a>m.bias, <a id="change">0</a><a id="change">)</a>

    def forward(self, input: Tensor) -&gt; Tensor:
        out = self.features(input)
        out = self.avgpool(out)</code></pre><h3>After Change</h3><pre><code class='java'>
            nn.LeakyReLU(negative_slope=0.2, inplace=True)
        )

        self.avgpool = nn.AdaptiveAvgPool2d((14<a id="change">, 14</a>))

        self.fc = nn.Sequential(
            nn.Linear(512 * 14 * 14, 1024),</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lornatang/srgan-pytorch/commit/5cf838428d2fd83fd2fc39b794fdd8fb82ea91ed#diff-a953b33cee07c104980e771037f7c50ac9861f73e6e07e04b2990ed8b8585403L28' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 4436015</div><div id='project'> Project Name: lornatang/srgan-pytorch</div><div id='commit'> Commit Name: 5cf838428d2fd83fd2fc39b794fdd8fb82ea91ed</div><div id='time'> Time: 2020-10-21</div><div id='author'> Author: liuchangyu1111@gmail.com</div><div id='file'> File Name: srgan_pytorch/model.py</div><div id='m_class'> M Class Name: Discriminator</div><div id='n_method'> N Class Name: Discriminator</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: srgan_pytorch/model.py</div><div id='n_file'> N File Name: srgan_pytorch/model.py</div><div id='m_start'> M Start Line: 63</div><div id='m_end'> M End Line: 85</div><div id='n_start'> N Start Line: 63</div><div id='n_end'> N End Line: 69</div><BR>