<html><h3>Pattern ID :905
</h3><img src='2824025.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        super().__init__()
        self.net = nn.Sequential(
            nn.Linear(dim, dim * mult),
            <a id="change">nn.GELU()</a>,
            nn.Linear(dim * mult, dim))

    def forward(self, x):</code></pre><h3>After Change</h3><pre><code class='java'>
    def __init__(self, dim, mult = 4):
        super().__init__()

        GELU = <a id="change">nn.GELU() if </a>hasattr(nn, &quotGELU&quot)<a id="change"> else </a>GELU_()

        self.net = nn.Sequential(
            nn.Linear(dim, dim * mult),</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lucidrains/reformer-pytorch/commit/66f03fc70b7643c998757f0c1a1c78ea6d656ebd#diff-7e740488ff2ce47996cfdd5356981ed3e6ac2bb38739a71b400275ac91d1c3bfL498' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2824025</div><div id='project'> Project Name: lucidrains/reformer-pytorch</div><div id='commit'> Commit Name: 66f03fc70b7643c998757f0c1a1c78ea6d656ebd</div><div id='time'> Time: 2020-02-23</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: reformer_pytorch/reformer_pytorch.py</div><div id='m_class'> M Class Name: FeedForward</div><div id='n_method'> N Class Name: FeedForward</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: reformer_pytorch/reformer_pytorch.py</div><div id='n_file'> N File Name: reformer_pytorch/reformer_pytorch.py</div><div id='m_start'> M Start Line: 498</div><div id='m_end'> M End Line: 498</div><div id='n_start'> N Start Line: 501</div><div id='n_end'> N End Line: 505</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        self.wide_conv = nn.Sequential(
            nn.Conv1d(dim, dim, wide_conv_kernel, dilation = wide_conv_dilation, padding = wide_conv_padding),
            <a id="change">nn.GELU()</a>
        )

        self.local_to_global_attn = local_to_global_attn
</code></pre><h3>After Change</h3><pre><code class='java'>

        self.wide_conv = nn.Sequential(
            nn.Conv1d(dim, dim * conv_mult, wide_conv_kernel, dilation = wide_conv_dilation, padding = wide_conv_padding),
            <a id="change">nn.GELU() if </a>not glu_conv<a id="change"> else </a>nn.GLU(dim = 1)
        )

        self.local_to_global_attn = local_to_global_attn</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/protein-bert-pytorch/commit/5e4f19a7ed7b97f66b16f1abd9be1e3d3de087e2#diff-6e35313d9af4f12619a10ddacdffb91019586962c8eddcde1ba5702de45fcc56L123' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2824024</div><div id='project'> Project Name: lucidrains/protein-bert-pytorch</div><div id='commit'> Commit Name: 5e4f19a7ed7b97f66b16f1abd9be1e3d3de087e2</div><div id='time'> Time: 2021-05-28</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: protein_bert_pytorch/protein_bert_pytorch.py</div><div id='m_class'> M Class Name: Layer</div><div id='n_method'> N Class Name: Layer</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: protein_bert_pytorch/protein_bert_pytorch.py</div><div id='n_file'> N File Name: protein_bert_pytorch/protein_bert_pytorch.py</div><div id='m_start'> M Start Line: 142</div><div id='m_end'> M End Line: 150</div><div id='n_start'> N Start Line: 142</div><div id='n_end'> N End Line: 153</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        super().__init__()
        self.net = nn.Sequential(
            nn.Linear(dim, dim * mult),
            <a id="change">nn.GELU()</a>,
            nn.Linear(dim * mult, dim)
        )
</code></pre><h3>After Change</h3><pre><code class='java'>
        super().__init__()
        project_in = nn.Sequential(
            nn.Linear(dim, dim * mult),
            <a id="change">nn.GELU()</a>
        )<a id="change"> if </a>not glu<a id="change"> else </a>GEGLU(dim, dim * mult)

        self.net = nn.Sequential(
            project_in,</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/x-transformers/commit/11a90584ab819e9b975dc3dc85249790e9cb6be6#diff-2e64ac8840195d7dc3e07a3aac70b50bbab1cdf80f3a7432be40105e6097fc0aL40' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2824022</div><div id='project'> Project Name: lucidrains/x-transformers</div><div id='commit'> Commit Name: 11a90584ab819e9b975dc3dc85249790e9cb6be6</div><div id='time'> Time: 2020-11-03</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: x_transformers/x_transformers.py</div><div id='m_class'> M Class Name: FeedForward</div><div id='n_method'> N Class Name: FeedForward</div><div id='m_method'> M Method Name: __init__(4)</div><div id='n_method'> N Method Name: __init__(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: x_transformers/x_transformers.py</div><div id='n_file'> N File Name: x_transformers/x_transformers.py</div><div id='m_start'> M Start Line: 42</div><div id='m_end'> M End Line: 46</div><div id='n_start'> N Start Line: 52</div><div id='n_end'> N End Line: 62</div><BR>