<html><h3>Pattern ID :576
</h3><img src='2005430.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                Upsample(dim_in) if not is_last else nn.Identity()
            ]))

        out_dim<a id="change"> = </a><a id="change">default(</a>out_dim, 3<a id="change">)</a>
        self.final_conv = nn.Sequential(
            Block(dim, dim),
            nn.Conv2d(dim, out_dim, 1)
        )</code></pre><h3>After Change</h3><pre><code class='java'>
                Upsample(dim_in) if not is_last else nn.Identity()
            ]))

        out_dim = <a id="change">default(</a>out_dim, channels<a id="change">)</a>
        self.final_conv = nn.Sequential(
            Block(dim, dim),
            nn.Conv2d(dim, out_dim, 1)
        )</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lucidrains/denoising-diffusion-pytorch/commit/ad9e303ff33767880bc4c6534b32b87cf8641492#diff-1ef0846017d5c27bd277b66e5afcab8798667afd39675e6f9382fc7e87a1fe28L193' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2005430</div><div id='project'> Project Name: lucidrains/denoising-diffusion-pytorch</div><div id='commit'> Commit Name: ad9e303ff33767880bc4c6534b32b87cf8641492</div><div id='time'> Time: 2021-06-11</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: denoising_diffusion_pytorch/denoising_diffusion_pytorch.py</div><div id='m_class'> M Class Name: Unet</div><div id='n_method'> N Class Name: Unet</div><div id='m_method'> M Method Name: __init__(6)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: denoising_diffusion_pytorch/denoising_diffusion_pytorch.py</div><div id='n_file'> N File Name: denoising_diffusion_pytorch/denoising_diffusion_pytorch.py</div><div id='m_start'> M Start Line: 232</div><div id='m_end'> M End Line: 232</div><div id='n_start'> N Start Line: 193</div><div id='n_end'> N End Line: 234</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
                Upsample(dim_in) if not is_last else nn.Identity()
            ]))

        out_dim = <a id="change">default(</a>out_dim, channels<a id="change">)</a>
        self.final_conv = nn.Sequential(
            block_klass(dim, dim),
            nn.Conv2d(dim, out_dim, 1)
        )</code></pre><h3>After Change</h3><pre><code class='java'>
            ]))

        default_out_dim = channels * (1 if not learned_variance else 2)
        self.out_dim<a id="change"> = </a><a id="change">default(</a>out_dim, default_out_dim<a id="change">)</a>

        self.final_conv = nn.Sequential(
            block_klass(dim, dim),
            nn.Conv2d(dim, self.out_dim, 1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/denoising-diffusion-pytorch/commit/d412d8816bfaa3c06ed1c142da913dd79cc3c279#diff-1ef0846017d5c27bd277b66e5afcab8798667afd39675e6f9382fc7e87a1fe28L199' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2005428</div><div id='project'> Project Name: lucidrains/denoising-diffusion-pytorch</div><div id='commit'> Commit Name: d412d8816bfaa3c06ed1c142da913dd79cc3c279</div><div id='time'> Time: 2022-05-11</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: denoising_diffusion_pytorch/denoising_diffusion_pytorch.py</div><div id='m_class'> M Class Name: Unet</div><div id='n_method'> N Class Name: Unet</div><div id='m_method'> M Method Name: __init__(9)</div><div id='n_method'> N Method Name: __init__(8)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: denoising_diffusion_pytorch/denoising_diffusion_pytorch.py</div><div id='n_file'> N File Name: denoising_diffusion_pytorch/denoising_diffusion_pytorch.py</div><div id='m_start'> M Start Line: 268</div><div id='m_end'> M End Line: 271</div><div id='n_start'> N Start Line: 208</div><div id='n_end'> N End Line: 274</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 determine filesystem, using fsspec, for saving to local filesystem or cloud

        fs<a id="change"> = </a><a id="change">default(</a>checkpoint_fs, lambda: LocalFileSystem(auto_mkdir = True)<a id="change">)</a>
        self.fs = fs

        assert isinstance(imagen, (Imagen, ElucidatedImagen))
        ema_kwargs, kwargs = groupby_prefix_and_trim(&quotema_&quot, kwargs)</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 determine filesystem, using fsspec, for saving to local filesystem or cloud

        self.fs = <a id="change">default(</a>checkpoint_fs, lambda: url_to_fs(checkpoint_path, fs_kwargs)<a id="change">)</a>

        assert isinstance(imagen, (Imagen, ElucidatedImagen))
        ema_kwargs, kwargs = groupby_prefix_and_trim(&quotema_&quot, kwargs)
</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/lucidrains/imagen-pytorch/commit/e396c4b634a1683c2a52f361b913993594d27841#diff-db403ff86c6fb0812b3ce92a98fb7d76cc888c28dfa3e0a5421bde05febd47bbL195' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 2005427</div><div id='project'> Project Name: lucidrains/imagen-pytorch</div><div id='commit'> Commit Name: e396c4b634a1683c2a52f361b913993594d27841</div><div id='time'> Time: 2022-07-26</div><div id='author'> Author: lucidrains@gmail.com</div><div id='file'> File Name: imagen_pytorch/trainer.py</div><div id='m_class'> M Class Name: ImagenTrainer</div><div id='n_method'> N Class Name: ImagenTrainer</div><div id='m_method'> M Method Name: __init__(25)</div><div id='n_method'> N Method Name: __init__(25)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: imagen_pytorch/trainer.py</div><div id='n_file'> N File Name: imagen_pytorch/trainer.py</div><div id='m_start'> M Start Line: 219</div><div id='m_end'> M End Line: 349</div><div id='n_start'> N Start Line: 251</div><div id='n_end'> N End Line: 382</div><BR>