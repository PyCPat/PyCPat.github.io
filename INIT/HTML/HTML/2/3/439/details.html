<html><h3>Pattern ID :439
</h3><img src='1311508.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        assert method in {&quotembed&quot, &quotencoder&quot, None}
        self.method = method
        if method in {None, &quotencoder&quot}:
            self.dropout<a id="change"> = </a><a id="change">nn.Dropout(</a>dropout<a id="change">)</a>
        self.alpha = alpha
    
    def encode(self, model, inputs):</code></pre><h3>After Change</h3><pre><code class='java'>
        method: embed, encoder分别表示在embedding和encoder层面做mixup, None表示mix后续处理
    &quot&quot&quot
    def __init__(self, method=&quotencoder&quot, alpha=0.5):
        <a id="change">super()</a>.__init__()
        assert method in {&quotembed&quot, &quotencoder&quot, None}
        self.method = method
        self.alpha = alpha</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tongjilibo/bert4torch/commit/23d7b65fd7976c622005024c3ac07e1f729eb6ae#diff-423158f6414177c50deaf8ff8d75202474ddccb543fca22c762f1c3c0e973f8eL1299' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1311508</div><div id='project'> Project Name: tongjilibo/bert4torch</div><div id='commit'> Commit Name: 23d7b65fd7976c622005024c3ac07e1f729eb6ae</div><div id='time'> Time: 2022-07-22</div><div id='author'> Author: tongjilibo@163.com</div><div id='file'> File Name: bert4torch/layers.py</div><div id='m_class'> M Class Name: MixUp</div><div id='n_method'> N Class Name: MixUp</div><div id='m_method'> M Method Name: __init__(3)</div><div id='n_method'> N Method Name: __init__(4)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: bert4torch/layers.py</div><div id='n_file'> N File Name: bert4torch/layers.py</div><div id='m_start'> M Start Line: 1299</div><div id='m_end'> M End Line: 1304</div><div id='n_start'> N Start Line: 1300</div><div id='n_end'> N End Line: 1300</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
            **kwargs,
        )

        self.proj_drop<a id="change"> = </a><a id="change">nn.Dropout(</a>proj_drop<a id="change">)</a>

    def forward(
        self,
        query,</code></pre><h3>After Change</h3><pre><code class='java'>

class TransformerDecoder(nn.Module):
    def __init__(self, decoder_layer, num_layers, norm=None, return_intermediate=False):
        <a id="change">super()</a>.__init__()
        self.layers = _get_clones(decoder_layer, num_layers)
        self.num_layers = num_layers
        self.norm = norm</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/idea-research/detrex/commit/b8b4cd0723f75ae9d120d40381355c5dfa9915f1#diff-255531dfd26cdeaf5d286d8b8b6c9a29e4dea4c4cf8a9dad083d748fd7e212e4L30' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1311509</div><div id='project'> Project Name: idea-research/detrex</div><div id='commit'> Commit Name: b8b4cd0723f75ae9d120d40381355c5dfa9915f1</div><div id='time'> Time: 2022-08-08</div><div id='author'> Author: rentianhe@dgx061.scc.idea</div><div id='file'> File Name: ideadet/layers/transformer_rebuild.py</div><div id='m_class'> M Class Name: MultiheadAttention</div><div id='n_method'> N Class Name: TransformerDecoder</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(6)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: ideadet/layers/transformer_rebuild.py</div><div id='n_file'> N File Name: ideadet/layers/transformer_rebuild.py</div><div id='m_start'> M Start Line: 36</div><div id='m_end'> M End Line: 52</div><div id='n_start'> N Start Line: 117</div><div id='n_end'> N End Line: 121</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.conv_final = nn.Conv1d(2048, 1, kernel_size=1, stride=1)
        self.lrelu_final = nn.LeakyReLU(negative_slope)
        self.fully_connected = nn.Linear(in_features=8, out_features=1)
        self.dropout4<a id="change"> = </a><a id="change">nn.Dropout()</a>
        self.sigmoid = nn.Sigmoid()

        &#47&#47 initialize weights
        self.init_weights()</code></pre><h3>After Change</h3><pre><code class='java'>
    D

    def __init__(self):
        <a id="change">super()</a>.__init__()
        &#47&#47 D gets a noisy signal and clear signal as input [B x 2 x 16384]
        negative_slope = 0.03
        self.conv1 = nn.Conv1d(in_channels=2, out_channels=32, kernel_size=31, stride=2, padding=15)  &#47&#47 [B x 32 x 8192]</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/nitin4525/speechenhancement/commit/2168d0c13d56b0e93d29fef666a8f7886bca04c8#diff-fada037ad086638e65c7ae77e3d223963e9afaa26326aab0ea718f4013176e43L206' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1311510</div><div id='project'> Project Name: nitin4525/speechenhancement</div><div id='commit'> Commit Name: 2168d0c13d56b0e93d29fef666a8f7886bca04c8</div><div id='time'> Time: 2021-04-28</div><div id='author'> Author: 51083614+Nitin4525@users.noreply.github.com</div><div id='file'> File Name: model.py</div><div id='m_class'> M Class Name: Discriminator</div><div id='n_method'> N Class Name: Discriminator</div><div id='m_method'> M Method Name: __init__(1)</div><div id='n_method'> N Method Name: __init__(1)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: model.py</div><div id='n_file'> N File Name: model.py</div><div id='m_start'> M Start Line: 207</div><div id='m_end'> M End Line: 248</div><div id='n_start'> N Start Line: 272</div><div id='n_end'> N End Line: 272</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        self.conv1 = nn.Conv2d(
            in_planes, planes, kernel_size=3, padding=1, bias=True
        )
        self.dropout<a id="change"> = </a><a id="change">nn.Dropout(p=dropout_rate)</a>
        self.bn2 = nn.BatchNorm2d(planes)
        self.conv2 = nn.Conv2d(
            planes, planes, kernel_size=3, stride=stride, padding=1, bias=True
        )</code></pre><h3>After Change</h3><pre><code class='java'>
class BasicBlock(nn.Module):

    def __init__(self, in_planes, out_planes, stride, dropRate=0.0):
        <a id="change">super()</a>.__init__()
        self.bn1 = nn.BatchNorm2d(in_planes)
        self.relu1 = nn.LeakyReLU(0.01, inplace=True)
        self.conv1 = nn.Conv2d(</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/kaiyangzhou/dassl.pytorch/commit/0abcafff2af2b1538395ccb960ec6614ed2bd52c#diff-9fedb7f36f92931df69d3f3508caf90cb8372f3dcfa121415c6e8b6a26a98fbeL38' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 1311511</div><div id='project'> Project Name: kaiyangzhou/dassl.pytorch</div><div id='commit'> Commit Name: 0abcafff2af2b1538395ccb960ec6614ed2bd52c</div><div id='time'> Time: 2020-03-13</div><div id='author'> Author: k.zhou@surrey.ac.uk</div><div id='file'> File Name: dassl/modeling/backbone/wide_resnet.py</div><div id='m_class'> M Class Name: wide_basic</div><div id='n_method'> N Class Name: BasicBlock</div><div id='m_method'> M Method Name: __init__(5)</div><div id='n_method'> N Method Name: __init__(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: dassl/modeling/backbone/wide_resnet.py</div><div id='n_file'> N File Name: dassl/modeling/backbone/wide_resnet.py</div><div id='m_start'> M Start Line: 38</div><div id='m_end'> M End Line: 58</div><div id='n_start'> N Start Line: 14</div><div id='n_end'> N End Line: 45</div><BR>