<link rel="stylesheet" href="../default.css">
<script src="../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.na = len(anchors)  &#47&#47 number of anchors (3)
        self.nc = nc  &#47&#47 number of classes (80)
        self.img_size = 0
        device<a id="change"> = </a><a id="change">torch.device(</a>&quotcuda&quot if torch.cuda.is_available() else &quotcpu&quot<a id="change">)</a>
        create_grids(self, 32, 1, device=device)

        if ONNX_EXPORT:  &#47&#47 grids must be computed in __init__
            stride = [32, 16, 8][yolo_layer]  &#47&#47 stride of this layer</code></pre><h3>After Change</h3><pre><code class='java'>
            if cfg.endswith(&quotyolov3-tiny.cfg&quot):
                stride *= 2

            ng = (int(img_size[0] / stride), int(<a id="change">img_size[1]</a> / stride))  &#47&#47 number grid points
            create_grids(self, max(img_size), ng)

    def forward(self, p, img_size, var=None):</code></pre>