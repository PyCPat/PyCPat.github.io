{"BEFORE":"        blocks = nn.ModuleList([])\n\n        for self_attn_block, cross_attn_block in zip(*[iter(input_blocks)] * 2):\n            blocks.append(ReversibleSelfAttnBlock(*self_attn_block))\n            blocks.append(ReversibleCrossAttnBlock(*cross_attn_block))\n","AFTER":"    def __init__(self, input_blocks, block_types):\n        super().__init__()\n        self.block_types = block_types\n\n        blocks = nn.ModuleList([])\n\n        for block, block_type in zip(input_blocks, block_types):\n            if block_type == 'self':\n                reversible_klass = ReversibleSelfAttnBlock\n            elif block_type == 'cross':\n                reversible_klass = ReversibleCrossAttnBlock\n            elif block_type == 'conv':\n                reversible_klass = ReversibleSelfAttnBlock\n\n            blocks.append(reversible_klass(*block))\n"}