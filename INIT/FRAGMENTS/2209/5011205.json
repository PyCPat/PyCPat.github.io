{"BEFORE":"            self.config = AutoConfig.from_pretrained(model_name_or_path)\n            if pretrained:\n                # TODO: do all model configs have this attribute? PretrainedConfig does so yes??\n                if hasattr(self.config, \"is_encoder_decoder\") and self.config.is_encoder_decoder:\n                    self.transformer = AutoModel.from_pretrained(model_name_or_path)\n                    self.transformer = self.transformer.encoder\n                else:\n                    self.transformer = AutoModel.from_pretrained(model_name_or_path, add_pooling_layer=uses_transformer_pooler)\n            else:\n                if hasattr(self.config, \"is_encoder_decoder\") and self.config.is_encoder_decoder:\n                    self.transformer = AutoModel.from_config(self.config)\n                    self.transformer = self.transformer.encoder\n                else:\n                    self.transformer = AutoModel.from_config(self.config, add_pooling_layer=uses_transformer_pooler)\n        else:\n","AFTER":"            self.config = AutoConfig.from_pretrained(model_name_or_path)\n            create_func, model_args = (AutoModel.from_pretrained, model_name_or_path) if pretrained else (AutoModel.from_config, self.config)\n            # TODO: do all model configs have this attribute? PretrainedConfig does so yes??\n            if hasattr(self.config, \"is_encoder_decoder\") and self.config.is_encoder_decoder:\n                self.transformer = create_func(model_args)\n                self.transformer = self.transformer.encoder\n            else:\n                self.transformer = create_func(model_args, add_pooling_layer=uses_transformer_pooler)\n        else:\n"}