<link rel="stylesheet" href="../default.css">
<script src="../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.patch_embedding: nn.Module = PatchEmbedding(in_channels=in_chans, out_channels=embed_dim,
                                                         patch_size=patch_size, norm_layer=norm_layer)
        &#47&#47 Compute patch resolution
        patch_resolution: Tuple[int, int] = (<a id="change">img_size[0]</a> // patch_size, <a id="change">img_size[1]</a> // patch_size)
        &#47&#47 Path dropout dependent on depth
        drop_path_rate = torch.linspace(0., drop_path_rate, sum(depths)).tolist()
        &#47&#47 Init stages</code></pre><h3>After Change</h3><pre><code class='java'>

        self.global_pool: str = global_pool
        self.head: nn.Module = nn.Linear(
            in_features=self.num_features, out_features=num_classes) if num_classes else <a id="change">nn.Identity()</a>

        &#47&#47 FIXME weight init TBD, PyTorch default init appears to be working well,
        &#47&#47 but differs from usual ViT or Swin init.
        &#47&#47 named_apply(init_weights, self)</code></pre>