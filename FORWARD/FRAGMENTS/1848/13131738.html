<link rel="stylesheet" href="../default.css">
<script src="../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                  pred_hid, self.sampler)
            loss = -F.log_softmax(logit, -1)[:, :, 0]
        else:
            loss, log_prob = self.crit(<a id="change">pred_hid.view(-1</a>, pred_hid.size(-1)<a id="change">)</a>, target.view(-1))
            loss = loss.view(tgt_len, -1)

        return (loss, new_mems, log_prob)</code></pre><h3>After Change</h3><pre><code class='java'>

        hidden, new_mems = self._forward(data, mems=mems)

        tgt_len = target.size(0)<a id="change"> if target is not None</a><a id="change"> else </a>data.size(0)

        pred_hid = hidden[-tgt_len:]
        if self.sample_softmax &gt; 0 and self.training:</code></pre>