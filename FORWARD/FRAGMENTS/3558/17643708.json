{"BEFORE":"        batch_size = embedding.size(0)\n\n        if self._input_speed:\n            embedding += self._speed_in(speed)\n\n        control_pred = 0.\n        for i, branch in enumerate(self._branches):\n            # Choose control for branch of only active command\n            # We check for (command - 1) since navigational command 0 is ignored\n            control_pred += branch(embedding) * (i == (command - 1)).expand(batch_size, 3)\n","AFTER":"            embedding += self._speed_in(speed.unsqueeze(1))\n\n        control_pred = 0.\n        for i, branch in enumerate(self._branches):\n            # Choose control for branch of only active command\n            # We check for (command - 1) since navigational command 0 is ignored\n            control_pred += branch(embedding) * (i == (command.unsqueeze(1) - 1))\n"}