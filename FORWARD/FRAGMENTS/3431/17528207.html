<link rel="stylesheet" href="../default.css">
<script src="../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                "If use_lma is specified, q_chunk_size and kv_chunk_size must "
                "be provided"
            )
        <a id="change">if</a>(use_memory_efficient_kernel and use_lma)<a id="change">:
            </a><a id="change">raise </a><a id="change">ValueError(
                "Choose one of use_memory_efficient_kernel and use_lma"</a><a id="change">
            )</a>

        &#47&#47 [*, H, Q/K, C_hidden]
        q, k, v = self._prep_qkv(q_x, kv_x)
</code></pre><h3>After Change</h3><pre><code class='java'>
                "use flash_mask instead"
            )

        attn_options<a id="change"> = </a><a id="change">[</a>use_memory_efficient_kernel, use_lma, use_flash<a id="change"></a>]
        if(sum(attn_options) &gt; 1):
            raise ValueError(
                "Choose at most one alternative attention algorithm"</code></pre>