{"BEFORE":"        cls_targets, box_targets, num_positives = self.anchor_labeler.batch_label_anchors(\n            x.shape[0], target['bbox'], target['cls'])\n","AFTER":"        if self.anchor_labeler is None:\n            # target should contain pre-computed anchor labels\n            assert 'label_num_positives' in target\n            cls_targets = [target[f'label_cls_{l}'] for l in range(self.config.num_levels)]\n            box_targets = [target[f'label_bbox_{l}'] for l in range(self.config.num_levels)]\n            num_positives = target['label_num_positives']\n        else:\n            cls_targets, box_targets, num_positives = self.anchor_labeler.batch_label_anchors(\n                target['bbox'], target['cls'])\n\n        loss, class_loss, box_loss = self.loss_fn(class_out, box_out, cls_targets, box_targets, num_positives)\n"}