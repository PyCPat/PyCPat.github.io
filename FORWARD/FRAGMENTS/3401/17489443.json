{"BEFORE":"        dims = self.reduction_dims\n\n        loss = (input - target)**2\n\n        if sum_dim is not None:\n            loss = loss.sum(dim=sum_dim, keepdim=True)\n\n        if mean_dim is not None:\n            loss = loss.mean(dim=mean_dim, keepdim=True)\n        \n        if len(dims) > 0:\n            loss = loss.squeeze(dim=dims)\n\n        if batch_mean:\n","AFTER":"        loss = (input - target)**2\n\n        n_dims = loss.dim()\n        dims = (\n            n_dims + dim if dim < 0 else dim for dim in self.reduction_dims\n        )\n        dims = sorted(dims)[::-1]\n\n        if sum_dim is not None:\n            loss = loss.sum(dim=sum_dim, keepdim=True)\n\n        if mean_dim is not None:\n            loss = loss.mean(dim=mean_dim, keepdim=True)\n        \n        for dim in dims:\n            loss = loss.squeeze(dim=dim)\n\n        if batch_mean:\n"}