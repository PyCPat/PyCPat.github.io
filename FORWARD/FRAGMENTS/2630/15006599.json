{"BEFORE":"        pass\n","AFTER":"        x = input # (T, batch_size, embed_dim)\n\n        residual = x\n        x, _ = self.multihead_attn(x, x, x) # (T_tgt, batch_size, embed_dim), (batch_size, T_tgt, T_src), where T_tgt = T_src = T\n        x = x + residual\n        \n        if self.norm:\n            x = x.permute(1,2,0) # (batch_size, embed_dim, T)\n            x = self.norm1d(x) # (batch_size, embed_dim, T)\n            x = x.permute(2,0,1).contiguous() # (batch_size, embed_dim, T) -> (T, batch_size, embed_dim)\n        \n        output = x\n\n        return output\n"}