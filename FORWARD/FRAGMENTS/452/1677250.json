{"BEFORE":"        out = self.trend(t=time)\n        if self.n_lags >= 1:\n            out += self.auto_regression(lags=lags)\n        if seasonalities is None:\n            assert(self.season_dims is None)\n        else:\n            out = self.all_seasonalities(out, seasonalities)\n","AFTER":"        out = self.trend(t=time)\n        if self.n_lags >= 1:\n            out += self.auto_regression(lags=lags)\n        if seasonalities is not None:\n            s = self.seasonalities(periods=seasonalities)\n            if self.season_mode == 'additive': out = out + s\n            elif self.season_mode == 'multiplicative': out = out * s\n            else: raise NotImplementedError(\"Seasonality Mode {} not implemented\".format(mode))\n        return out\n"}