{"BEFORE":"    def forward(self, x, x_sampling_rate=24000, **kwargs):\n        # kwargs for stuff like return_encoded=True, which SoundStream uses but Encodec doesn't\n        assert not self.model.training, \"Encodec is pretrained and should never be called outside eval mode.\"\n        # convert_audio up-samples if necessary, e.g. if wav has n samples at 16 kHz and model is 48 kHz,\n        # then resulting wav has 3n samples because you do n * 48\/16\n        # Note: this is a bit of a hack but we avoid any resampling issues here if we just try 24kHz throughout\n        # which makes convert_audio a no-op\n        wav = convert_audio(x, x_sampling_rate, self.model.sample_rate, self.model.channels)\n        wav = wav.unsqueeze(0)\n","AFTER":"        wav = rearrange(x, f'b t -> b {self.model.channels} t')\n"}