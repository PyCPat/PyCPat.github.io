{"BEFORE":"        batch_size, channels, width, height = voting_map.shape\n        voting_map = voting_map.view(batch_size, self.region_num, self.num_classes, width, height)\n        heatmap = torch.zeros((batch_size, self.num_classes, width, height), dtype=torch.float).cuda()\n        for i in range(self.num_classes):\n            heatmap[:, i, :, :] = self.deconv_filters(voting_map[:, :, i, :, :]).squeeze(dim=1)\n\n        return heatmap\n","AFTER":"        if self.model_v1:\n            batch_size, channels, width, height = voting_map.shape\n            voting_map = voting_map.view(batch_size, self.region_num, self.num_classes, width, height)\n            voting_map = voting_map.permute(0, 2, 1, 3, 4)\n            voting_map = voting_map.reshape(batch_size, -1, width, height)\n\n        heatmap = self.deconv_filters(voting_map)\n"}