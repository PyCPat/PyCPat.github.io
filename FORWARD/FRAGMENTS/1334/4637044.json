{"BEFORE":"        x = self.base(x)\n        x = F.avg_pool2d(x, x.size()[2:])\n        f = x.view(x.size(0), -1)\n        if not self.training:\n            return f\n        y = self.classifier(f)\n\n        if self.loss == {'xent'}:\n            return y\n        elif self.loss == {'xent', 'htri'}:\n            return y, f\n","AFTER":"        f = self.featuremaps(x)\n        v = self.global_avgpool(f)\n        v = v.view(v.size(0), -1)\n        \n        if self.fc is not None:\n            v = self.fc(v)\n        \n        if not self.training:\n            return v\n        \n        y = self.classifier(v)\n        \n        if self.loss == {'xent'}:\n            return y\n        elif self.loss == {'xent', 'htri'}:\n            return y, v\n"}