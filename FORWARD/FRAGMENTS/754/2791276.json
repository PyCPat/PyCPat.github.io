{"BEFORE":"        conv_res = [self.activation(conv(input)) for conv in self.convs] #[b, o, lout]\n\n        if mask is not None:\n            mask = mask.unsquuze(1) # [b, 1, l]\n            #mask对conv操作没有影响，但是可能对max_pool操作产生影响，在max_pool之前对mask填充-inf\n            conv_res = [x.masked_fill_((1-mask).byte(), float('-inf')) for x in conv_res]\n\n        tmp = [F.max_pool1d(input=x, kernel_size=x.size(2)).squeeze(2) for x in conv_res]\n","AFTER":"        if mask is not None:\n            input = input * mask.unsqueeze(-1).float()\n\n        #[b, l, d] -> [b, d, l]\n        input = torch.transpose(input, 1, 2)\n"}