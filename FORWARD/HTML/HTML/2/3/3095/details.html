<html><h3>Pattern ID :3095
</h3><img src='16618696.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 -------------------------------------------------- &#47&#47
            gt_rpn_loc, gt_rpn_label    = self.anchor_target_creator(bbox, anchor)
            gt_rpn_loc                  = torch.Tensor(gt_rpn_loc)
            gt_rpn_label                = <a id="change">torch.Tensor(</a>gt_rpn_label<a id="change">)</a>.long()

            if rpn_loc.is_cuda:
                gt_rpn_loc = gt_rpn_loc.cuda()
                gt_rpn_label = <a id="change">gt_rpn_label.cuda()</a>

            &#47&#47 -------------------------------------------------- &#47&#47
            &#47&#47   分别计算建议框网络的回归损失和分类损失</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 -------------------------------------------------- &#47&#47
            gt_rpn_loc, gt_rpn_label    = self.anchor_target_creator(bbox, anchor)
            gt_rpn_loc                  = torch.Tensor(gt_rpn_loc).type_as(rpn_locs)
            gt_rpn_label                = <a id="change">torch.Tensor(</a>gt_rpn_label<a id="change">)</a>.type_as(rpn_locs).long()

            &#47&#47 -------------------------------------------------- &#47&#47
            &#47&#47   分别计算建议框网络的回归损失和分类损失</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/bubbliiiing/faster-rcnn-pytorch/commit/05e6e50b241e1ae4707e28c3b3fc388fd7141eb4#diff-c18f71fdc3c30323b9b5c1cfc26682b841f5799de388764d1193e8fcdac10af5L255' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16618696</div><div id='project'> Project Name: bubbliiiing/faster-rcnn-pytorch</div><div id='commit'> Commit Name: 05e6e50b241e1ae4707e28c3b3fc388fd7141eb4</div><div id='time'> Time: 2022-04-20</div><div id='author'> Author: 3323290568@qq.com</div><div id='file'> File Name: nets/frcnn_training.py</div><div id='m_class'> M Class Name: FasterRCNNTrainer</div><div id='n_method'> N Class Name: FasterRCNNTrainer</div><div id='m_method'> M Method Name: forward(5)</div><div id='n_method'> N Method Name: forward(5)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: nets/frcnn_training.py</div><div id='n_file'> N File Name: nets/frcnn_training.py</div><div id='m_start'> M Start Line: 255</div><div id='m_end'> M End Line: 299</div><div id='n_start'> N Start Line: 266</div><div id='n_end'> N End Line: 286</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        dim_batch = past.size()[0]
        zero_padding = torch.zeros(1, dim_batch, self.dim_embedding_key * 2).cuda()
        prediction = <a id="change">torch.Tensor().cuda()</a>
        present_temp = past[:, -1].unsqueeze(1)

        &#47&#47 past temporal encoding
        past = torch.transpose(past, 1, 2)</code></pre><h3>After Change</h3><pre><code class='java'>

        dim_batch = past.size()[0]
        zero_padding = torch.zeros(1, dim_batch, self.dim_embedding_key * 2)
        prediction = <a id="change">torch.Tensor()</a>
        present_temp = past[:, -1].unsqueeze(1)
        if self.use_cuda:
            zero_padding = zero_padding.cuda()
            prediction = prediction.cuda()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/marchetz/mantra-cvpr20/commit/a03545f44dd81448146718bbb8b1cbe089d15b8c#diff-ad8fceab6e69b6098556fa1c2d2951a12ceb751a74dbfc59403be898b096435dL106' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16618698</div><div id='project'> Project Name: marchetz/mantra-cvpr20</div><div id='commit'> Commit Name: a03545f44dd81448146718bbb8b1cbe089d15b8c</div><div id='time'> Time: 2020-04-30</div><div id='author'> Author: francescom394@gmail.com</div><div id='file'> File Name: models/model_controllerMem.py</div><div id='m_class'> M Class Name: model_controllerMem</div><div id='n_method'> N Class Name: model_controllerMem</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/model_controllerMem.py</div><div id='n_file'> N File Name: models/model_controllerMem.py</div><div id='m_start'> M Start Line: 116</div><div id='m_end'> M End Line: 118</div><div id='n_start'> N Start Line: 119</div><div id='n_end'> N End Line: 128</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>

        dim_batch = past.size()[0]
        zero_padding = torch.zeros(1, dim_batch, self.dim_embedding_key * 2).cuda()
        prediction = <a id="change">torch.Tensor().cuda()</a>
        present = past[:, -1, :2].unsqueeze(1)

        &#47&#47 temporal encoding for past
        past = torch.transpose(past, 1, 2)</code></pre><h3>After Change</h3><pre><code class='java'>

        dim_batch = past.size()[0]
        zero_padding = torch.zeros(1, dim_batch, self.dim_embedding_key * 2)
        prediction = <a id="change">torch.Tensor()</a>
        present = past[:, -1, :2].unsqueeze(1)
        if self.use_cuda:
            zero_padding = zero_padding.cuda()
            prediction = prediction.cuda()</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/marchetz/mantra-cvpr20/commit/a03545f44dd81448146718bbb8b1cbe089d15b8c#diff-045a95b99c3c9eb74991cb96943c2a18caff8b94aded7ddc1880a9bbaff9cad9L61' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 16618694</div><div id='project'> Project Name: marchetz/mantra-cvpr20</div><div id='commit'> Commit Name: a03545f44dd81448146718bbb8b1cbe089d15b8c</div><div id='time'> Time: 2020-04-30</div><div id='author'> Author: francescom394@gmail.com</div><div id='file'> File Name: models/model_encdec.py</div><div id='m_class'> M Class Name: model_encdec</div><div id='n_method'> N Class Name: model_encdec</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: models/model_encdec.py</div><div id='n_file'> N File Name: models/model_encdec.py</div><div id='m_start'> M Start Line: 69</div><div id='m_end'> M End Line: 71</div><div id='n_start'> N Start Line: 70</div><div id='n_end'> N End Line: 79</div><BR>