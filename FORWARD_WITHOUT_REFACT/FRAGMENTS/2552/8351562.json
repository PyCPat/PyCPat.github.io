{"BEFORE":"        x_avg = torch.mean(x, dim=1, keepdim=True)\n        x_max = torch.max(x, dim=1, keepdim=True)[0]\n        x_attn = torch.cat([x_avg, x_max], dim=1)\n        x_attn = self.conv(x_attn)\n        return x * x_attn.sigmoid()\n","AFTER":"        x_attn = torch.cat([x.mean(dim=1, keepdim=True), x.amax(dim=1, keepdim=True)], dim=1)\n        x_attn = self.conv(x_attn)\n        return x * self.gate(x_attn)\n"}