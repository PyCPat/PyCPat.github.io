{"BEFORE":"        heads, r = self.heads, self.reduction_ratio\n\n        q, k, v = self.to_qkv(x).chunk(3, dim = 1)\n        k, v = map(lambda t: reduce(t, 'b c (h r1) (w r2) -> b c h w', 'mean', r1 = r, r2 = r), (k, v))\n","AFTER":"        heads = self.heads\n\n        q, k, v = (self.to_q(x), *self.to_kv(x).chunk(2, dim = 1))\n"}