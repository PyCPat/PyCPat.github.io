{"BEFORE":"        out = self.to_out(uc * u)\n\n        return out + residual\n","AFTER":"        if self.reverse_seq:\n            x = torch.flip(x, dims = (1,))\n\n        residual, x = x.clone(), self.norm(x)\n\n        u = self.to_u(x)\n        v = self.to_v(x)\n\n        v = self.dsconv(v)\n\n        uc = self.to_gate(v)\n        out = self.to_out(uc * u)\n\n        out = out + residual\n\n        if self.reverse_seq:\n            out = torch.flip(out, dims = (1,))\n\n        return out\n"}