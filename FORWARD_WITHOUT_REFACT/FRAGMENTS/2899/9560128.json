{"BEFORE":"    def forward(self, x):\n        return x\n","AFTER":"    def forward(self, src, tgt, mems = None):\n        b = src.shape[0]\n        mems = default(mems, self.memory_slots)\n\n        if mems.ndim == 2:\n            mems = repeat(mems, 'n d -> b n d', b = b)\n\n        enc = self.encoder(src, context = mems)\n        out = self.decoder(tgt, context = enc)\n\n        mems = self.mem_updater(mems, enc)\n        return out, mems\n"}