{"BEFORE":"        hiddens, lmem = hiddens.detach(), lmem.detach()\n","AFTER":"    def forward(self, lmem, smem, hiddens, detach_lmem = False):\n        hiddens = hiddens.detach()\n        if detach_lmem:\n            lmem = lmem.detach()\n        batch, dim_head, mem_depth = lmem.shape[1], self.dim_head, self.num_memory_depth\n"}