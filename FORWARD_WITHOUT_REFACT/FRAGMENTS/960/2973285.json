{"BEFORE":"        x = x + self.attn(self.norm1(x.view(b, c, -1).transpose(-2, -1)).transpose(-2, -1).view(b, c, h, w))\n        x = x + self.ffn(self.norm2(x.view(b, c, -1).transpose(-2, -1)).transpose(-2, -1).view(b, c, h, w))\n","AFTER":"        x = x + self.attn(self.norm1(x.reshape(b, c, -1).transpose(-2, -1).contiguous()).transpose(-2, -1)\n                          .contiguous().reshape(b, c, h, w))\n        x = x + self.ffn(self.norm2(x.reshape(b, c, -1).transpose(-2, -1).contiguous()).transpose(-2, -1)\n                         .contiguous().reshape(b, c, h, w))\n"}