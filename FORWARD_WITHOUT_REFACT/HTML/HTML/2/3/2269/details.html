<html><h3>Pattern ID :2269
</h3><img src='7923690.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        on padded values. Returns ``sent_scores``.
        
        x = self.linear(x).squeeze(-1)
        x<a id="change"> = </a><a id="change">self.sigmoid(</a>x<a id="change">)</a>
        sent_scores = x * mask.float()
        return sent_scores

</code></pre><h3>After Change</h3><pre><code class='java'>
        x = self.linear(x).squeeze(-1)
        &#47&#47 x = self.sigmoid(x)
        sent_scores = x * mask.float()
        <a id="change">sent_scores[sent_scores==0]</a> = -9e9
        return sent_scores

</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/hhousen/transformersum/commit/682aaa22841ce263037081a7ce51eb3f76b2a757#diff-3ef47430a364202ad40f37f104b4f1634dd4b12f7ba269ebc1f94e97604a087aL87' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 7923690</div><div id='project'> Project Name: hhousen/transformersum</div><div id='commit'> Commit Name: 682aaa22841ce263037081a7ce51eb3f76b2a757</div><div id='time'> Time: 2020-10-13</div><div id='author'> Author: hayden@haydenhousen.com</div><div id='file'> File Name: src/classifier.py</div><div id='m_class'> M Class Name: SimpleLinearClassifier</div><div id='n_method'> N Class Name: SimpleLinearClassifier</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: src/classifier.py</div><div id='n_file'> N File Name: src/classifier.py</div><div id='m_start'> M Start Line: 87</div><div id='m_end'> M End Line: 88</div><div id='n_start'> N Start Line: 90</div><div id='n_end'> N End Line: 91</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        x = self.activation(x)
        x = self.dropout1(x)
        x = self.linear2(x)
        x<a id="change"> = </a><a id="change">self.sigmoid(</a>x<a id="change">)</a>
        sent_scores = x.squeeze(-1) * mask.float()
        return sent_scores

</code></pre><h3>After Change</h3><pre><code class='java'>
        x = self.linear2(x)
        &#47&#47 x = self.sigmoid(x)
        sent_scores = x.squeeze(-1) * mask.float()
        <a id="change">sent_scores[sent_scores==0]</a> = -9e9
        return sent_scores

</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/hhousen/transformersum/commit/682aaa22841ce263037081a7ce51eb3f76b2a757#diff-3ef47430a364202ad40f37f104b4f1634dd4b12f7ba269ebc1f94e97604a087aL54' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 7923692</div><div id='project'> Project Name: hhousen/transformersum</div><div id='commit'> Commit Name: 682aaa22841ce263037081a7ce51eb3f76b2a757</div><div id='time'> Time: 2020-10-13</div><div id='author'> Author: hayden@haydenhousen.com</div><div id='file'> File Name: src/classifier.py</div><div id='m_class'> M Class Name: LinearClassifier</div><div id='n_method'> N Class Name: LinearClassifier</div><div id='m_method'> M Method Name: forward(3)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: src/classifier.py</div><div id='n_file'> N File Name: src/classifier.py</div><div id='m_start'> M Start Line: 62</div><div id='m_end'> M End Line: 63</div><div id='n_start'> N Start Line: 64</div><div id='n_end'> N End Line: 65</div><BR>'><BR><BR><BR><h3>Before Change</h3><pre><code class='java'>
        cur_h = self.fusion(cur_h)
        cur_h = self.relu(cur_h)
        output = self.output(cur_h)
        output<a id="change"> = </a><a id="change">self.sigmoid(</a>output<a id="change">)</a>

        return output
</code></pre><h3>After Change</h3><pre><code class='java'>
        return actions.unsqueeze(-1)

    def forward(self, x):
        demo = <a id="change">x[:, :, : self.demo_dim]</a>
        labtest = x[:, :, self.demo_dim :]

        batch_size = labtest.size(0)
        time_step = labtest.size(1)</code></pre>'><BR><BR><BR><BR><div id='link'><a href='https://github.com/yhzhu99/covid-ehr-benchmarks/commit/41e28f49dd30d760c6c439a5cf41590262c9b76b#diff-5fdd32b806c6289f77045eb16c679e729eabff875bba907ebc44d204c4cc7bbaL118' target='_blank'>Link</a></div><div id='fragmentid'> Fragment ID: 7923694</div><div id='project'> Project Name: yhzhu99/covid-ehr-benchmarks</div><div id='commit'> Commit Name: 41e28f49dd30d760c6c439a5cf41590262c9b76b</div><div id='time'> Time: 2022-06-24</div><div id='author'> Author: yhzhu99@gmail.com</div><div id='file'> File Name: app/models/backbones/agent.py</div><div id='m_class'> M Class Name: Agent</div><div id='n_method'> N Class Name: Agent</div><div id='m_method'> M Method Name: forward(2)</div><div id='n_method'> N Method Name: forward(3)</div><div id='m_parent_class'> M Parent Class: nn.Module</div><div id='n_parent_class'> N Parent Class: nn.Module</div><div id='m_file'> M File Name: app/models/backbones/agent.py</div><div id='n_file'> N File Name: app/models/backbones/agent.py</div><div id='m_start'> M Start Line: 118</div><div id='m_end'> M End Line: 204</div><div id='n_start'> N Start Line: 117</div><div id='n_end'> N End Line: 201</div><BR>